import { GoogleGenerativeAI } from "@google/generative-ai";
  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  

    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget ,Give me a Hotels options list with Hotel Name, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"hotels\": [\n    {\n      \"name\": \"The D Las Vegas\",\n      \"address\": \"301 Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$50-$100 per night\",\n      \"imageUrl\": \"https://www.thed.com/media/images/hotel-exterior/the-d-hotel-exterior-1.jpg\",\n      \"geoCoordinates\": \"36.1692,-115.1426\",\n      \"rating\": 4.0,\n      \"description\": \"A budget-friendly hotel located in the heart of Fremont Street Experience, offering a vibrant atmosphere, gaming, and dining options.\"\n    },\n    {\n      \"name\": \"Golden Nugget Las Vegas\",\n      \"address\": \"129 E Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$60-$150 per night\",\n      \"imageUrl\": \"https://www.goldennugget.com/las-vegas/media/images/hotel-overview/golden-nugget-hotel-overview-01-02.jpg\",\n      \"geoCoordinates\": \"36.1686,-115.1406\",\n      \"rating\": 4.5,\n      \"description\": \"A historic hotel with a lively casino, a world-renowned shark tank, and various restaurants and bars.\"\n    },\n    {\n      \"name\": \"Plaza Hotel & Casino\",\n      \"address\": \"1 Main Street, Las Vegas, NV 89101\",\n      \"price\": \"$40-$100 per night\",\n      \"imageUrl\": \"https://www.plazahotelcasino.com/media/images/hotel-overview/plaza-hotel-casino-overview-01-01.jpg\",\n      \"geoCoordinates\": \"36.1689,-115.1419\",\n      \"rating\": 4.0,\n      \"description\": \"A centrally located hotel with a casino, restaurants, and entertainment options at affordable rates.\"\n    },\n    {\n      \"name\": \"Circus Circus Hotel & Casino\",\n      \"address\": \"2880 Las Vegas Blvd S, Las Vegas, NV 89109\",\n      \"price\": \"$30-$80 per night\",\n      \"imageUrl\": \"https://www.circuscircus.com/media/images/hotel-overview/circus-circus-hotel-overview-01-01.jpg\",\n      \"geoCoordinates\": \"36.1234,-115.1705\",\n      \"rating\": 3.5,\n      \"description\": \"A family-friendly hotel known for its circus theme, carnival midway, and budget-friendly accommodations.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"morning\": {\n        \"placeName\": \"Fremont Street Experience\",\n        \"placeDetails\": \"A pedestrian-friendly street with a canopy of lights, live entertainment, and numerous casinos.\",\n        \"placeImageUrl\": \"https://www.vegasexperience.com/images/Attractions/Fremont-Street-Experience.jpg\",\n        \"geoCoordinates\": \"36.1691,-115.1426\",\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.5,\n        \"time\": \"9:00 AM - 12:00 PM\"\n      },\n      \"afternoon\": {\n        \"placeName\": \"The Mob Museum\",\n        \"placeDetails\": \"A fascinating museum dedicated to the history of organized crime in Las Vegas and beyond.\",\n        \"placeImageUrl\": \"https://www.themobmuseum.org/media/images/the-mob-museum/mob-museum-exterior-01-01.jpg\",\n        \"geoCoordinates\": \"36.1698,-115.1424\",\n        \"ticketPricing\": \"$25-$30\",\n        \"rating\": 4.5,\n        \"time\": \"1:00 PM - 4:00 PM\"\n      },\n      \"evening\": {\n        \"placeName\": \"Golden Nugget Casino\",\n        \"placeDetails\": \"Experience the famous shark tank and enjoy the lively casino atmosphere.\",\n        \"placeImageUrl\": \"https://www.goldennugget.com/las-vegas/media/images/hotel-overview/golden-nugget-hotel-overview-01-02.jpg\",\n        \"geoCoordinates\": \"36.1686,-115.1406\",\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.5,\n        \"time\": \"7:00 PM - 10:00 PM\"\n      }\n    },\n    \"day2\": {\n      \"morning\": {\n        \"placeName\": \"The Strip\",\n        \"placeDetails\": \"Walk along the famous Las Vegas Strip, admiring the iconic hotels and entertainment venues.\",\n        \"placeImageUrl\": \"https://www.lasvegas.com/media/images/attractions/the-strip-overview/the-strip-overview-01-01.jpg\",\n        \"geoCoordinates\": \"36.1146,-115.1728\",\n        \"ticketPricing\": \"Free\",\n        \"rating\": 5.0,\n        \"time\": \"9:00 AM - 12:00 PM\"\n      },\n      \"afternoon\": {\n        \"placeName\": \"Bellagio Fountains\",\n        \"placeDetails\": \"Enjoy a spectacular water show synchronized with music and lights.\",\n        \"placeImageUrl\": \"https://www.bellagio.com/media/images/attractions/fountains-of-bellagio/fountains-of-bellagio-overview-01-01.jpg\",\n        \"geoCoordinates\": \"36.1147,-115.1732\",\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.5,\n        \"time\": \"2:00 PM - 4:00 PM\"\n      },\n      \"evening\": {\n        \"placeName\": \"Free Show on The Strip\",\n        \"placeDetails\": \"Catch a free show at one of the many resorts, like the \" +\n            \"Volcano at The Mirage or the Sirens of TI at Treasure Island.\",\n        \"placeImageUrl\": \"https://www.themirage.com/media/images/attractions/volcano/volcano-overview-01-01.jpg\",\n        \"geoCoordinates\": \"36.1166,-115.1744\", // The Mirage\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.0,\n        \"time\": \"8:00 PM - 10:00 PM\"\n      }\n    },\n    \"day3\": {\n      \"morning\": {\n        \"placeName\": \"Hoover Dam\",\n        \"placeDetails\": \"Take a day trip to the iconic Hoover Dam and learn about its history and engineering.\",\n        \"placeImageUrl\": \"https://www.nps.gov/hove/planyourvisit/images/hoover_dam_2018_1.jpg\",\n        \"geoCoordinates\": \"36.0084,-114.9968\",\n        \"ticketPricing\": \"Free to walk around, $30 for tours\",\n        \"rating\": 4.5,\n        \"time\": \"9:00 AM - 12:00 PM\"\n      },\n      \"afternoon\": {\n        \"placeName\": \"Red Rock Canyon National Conservation Area\",\n        \"placeDetails\": \"Explore the scenic beauty of Red Rock Canyon with its red rock formations and hiking trails.\",\n        \"placeImageUrl\": \"https://www.nps.gov/redr/learn/nature/images/red_rock_canyon_landscape.jpg\",\n        \"geoCoordinates\": \"36.1398,-115.2683\",\n        \"ticketPricing\": \"$15 per vehicle\",\n        \"rating\": 4.5,\n        \"time\": \"2:00 PM - 5:00 PM\"\n      },\n      \"evening\": {\n        \"placeName\": \"Downtown Container Park\",\n        \"placeDetails\": \"Enjoy live music, unique shops, and a giant fire-breathing praying mantis sculpture.\",\n        \"placeImageUrl\": \"https://www.downtowncontainerpark.com/images/container-park/downtown-container-park-01-01.jpg\",\n        \"geoCoordinates\": \"36.1663,-115.1402\",\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.0,\n        \"time\": \"7:00 PM - 9:00 PM\"\n      }\n    }\n  }\n}\n```\n\n**Notes:**\n\n* This itinerary is a suggestion and can be adjusted based on your preferences.\n*  The provided hotel images are just examples. Search for updated images.\n* Ticket prices are subject to change, so it's recommended to check the official websites.\n* Consider using public transportation or ride-sharing services to save on transportation costs.\n*  Look for free entertainment options like street performers, live music, and casino shows.\n*  Don't forget to bring comfortable shoes for walking, as you'll be doing a lot of it.\n*  Stay hydrated and pack sunscreen, especially during the summer months.\n"},
          ],
        },
      ],
    });
  
    